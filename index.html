<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Mi Amorshito Liceth ‚ù§Ô∏è</title>

<style>

body{
margin:0;
background:black;
font-family:'Segoe UI', sans-serif;
color:white;
overflow:hidden;
}

/* Pantalla contrase√±a */
#lockScreen{
position:fixed;
width:100%;
height:100%;
background:black;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
}

#lockScreen input{
padding:10px;
font-size:18px;
border-radius:10px;
border:none;
text-align:center;
}

#lockScreen button{
margin-top:10px;
padding:10px 20px;
border:none;
border-radius:20px;
background:#ff4da6;
color:white;
cursor:pointer;
}

/* Juego */

#game{
display:none;
flex-direction:column;
align-items:center;
padding:20px;
width:100%;
box-sizing:border-box;
}

#gameContainer{
display:flex;
gap:20px;
margin-top:30px;
align-items:center;
flex-wrap:wrap;
justify-content:center;
width:100%;
max-width:900px;
}

/* PUZZLE RESPONSIVO */

#puzzle{
width:min(90vw, 520px);
height:min(90vw, 520px);
display:grid;
grid-template-columns:repeat(4,1fr);
grid-template-rows:repeat(4,1fr);
gap:3px;
touch-action:none;
}

.piece{
background-image:url('1.jpg');
background-size:400% 400%;
width:100%;
height:100%;
}

/* Imagen referencia */

#reference{
display:flex;
flex-direction:column;
align-items:center;
}

#reference img{
width:min(70vw,220px);
height:auto;
border-radius:15px;
box-shadow:0 0 20px #ff4da6;
}

/* FINAL */

#finalScreen{
position:fixed;
width:100%;
height:100%;
background:black;
display:none;
flex-direction:column;
justify-content:center;
align-items:center;
text-align:center;
padding:20px;
box-sizing:border-box;
}

/* CONTENEDOR FIJO PARA EVITAR SALTOS */

#slideshowContainer{
width:min(92vw,700px);
height:min(70vh,520px);
display:flex;
justify-content:center;
align-items:center;
border-radius:20px;
box-shadow:0 0 40px #ff4da6;
overflow:hidden;
}

/* IMAGEN RESPONSIVA SIN CAMBIOS DE TAMA√ëO */

#slideshow{
width:100%;
height:100%;
object-fit:contain;
transition:opacity 1s ease;
}

#liceth{
font-size:clamp(28px,5vw,50px);
color:#ff4da6;
animation:glow 2s infinite alternate;
text-align:center;
margin-bottom:20px;
}

@keyframes glow{
from{text-shadow:0 0 10px #ff4da6;}
to{text-shadow:0 0 40px #ff99cc;}
}

.heart,.petal{
position:absolute;
animation:fall linear infinite;
}

@keyframes fall{
0%{transform:translateY(-100px);opacity:1;}
100%{transform:translateY(100vh);opacity:0;}
}

button{
margin-top:20px;
padding:10px 20px;
border:none;
border-radius:20px;
background:#ff4da6;
color:white;
cursor:pointer;
}

</style>
</head>
<body>

<div id="lockScreen">
<h2>Ingresa nuestra fecha especial ‚ù§Ô∏è</h2>
<input type="password" id="pass" placeholder="dd/mm/aaaa">
<button onclick="checkPass()">Entrar</button>
</div>

<div id="game">
<h2>Arma el rompecabezas, Amorshito ‚ù§Ô∏è</h2>

<div id="gameContainer">
<div id="puzzle"></div>

<div id="reference">
<img src="1.jpg">
<p>Imagen gu√≠a üíñ</p>
</div>
</div>

</div>

<div id="finalScreen">

<div id="liceth">Recuerdos de Nuestras Aventuras Amorcito ‚ù§Ô∏è</div>

<div id="slideshowContainer">
<img id="slideshow" src="2.jpeg">
</div>

<div id="message"></div>

<button onclick="location.reload()">Volver a sentir ‚ù§Ô∏è</button>

</div>

<audio id="music" src="musica2.mp3"></audio>

<script>

/* CONTRASE√ëA */

function checkPass(){
const input = document.getElementById("pass").value.trim();

if(input === "10092025" || input === "100925"){
document.getElementById("lockScreen").style.display="none";
document.getElementById("game").style.display="flex";
createPieces();
}else{
alert("Fecha incorrecta mi amor ü•∫");
}
}

/* PUZZLE */

const puzzle = document.getElementById("puzzle");
const size = 4;
let board = [];
let draggedIndex = null;

function createPieces(){

puzzle.innerHTML="";
board=[];

for(let i=0;i<size*size;i++){
board.push(i);
}

board.sort(()=>Math.random()-0.5);

board.forEach((val,index)=>{

const piece=document.createElement("div");
piece.className="piece";

const x = val % size;
const y = Math.floor(val / size);

piece.style.backgroundPosition = `${(x*100)/(size-1)}% ${(y*100)/(size-1)}%`;

piece.dataset.index=index;
piece.dataset.correct=val;

puzzle.appendChild(piece);

});

addTouchEvents();
}

function addTouchEvents(){

document.querySelectorAll(".piece").forEach(piece=>{

piece.addEventListener("pointerdown", e=>{
draggedIndex = Number(piece.dataset.index);
piece.setPointerCapture(e.pointerId);
});

piece.addEventListener("pointerup", e=>{

const element = document.elementFromPoint(e.clientX,e.clientY);

if(element && element.classList.contains("piece")){

const targetIndex = Number(element.dataset.index);

swapPieces(draggedIndex,targetIndex);

}

});

});

}

function swapPieces(i1,i2){

if(i1===i2) return;

const pieces = document.querySelectorAll(".piece");

const p1 = pieces[i1];
const p2 = pieces[i2];

const tempBg = p1.style.backgroundPosition;
const tempCorrect = p1.dataset.correct;

p1.style.backgroundPosition = p2.style.backgroundPosition;
p1.dataset.correct = p2.dataset.correct;

p2.style.backgroundPosition = tempBg;
p2.dataset.correct = tempCorrect;

checkWin();
}

function checkWin(){

const pieces = document.querySelectorAll(".piece");

let correct=0;

pieces.forEach((p,i)=>{
if(Number(p.dataset.correct)===i) correct++;
});

if(correct===size*size){
setTimeout(showFinal,500);
}

}

/* FINAL */

function showFinal(){

document.getElementById("game").style.display="none";
document.getElementById("finalScreen").style.display="flex";
document.getElementById("music").play();
iniciarSlideshow();

}

/* SLIDESHOW */

const imagenes=[
"2.jpeg","3.jpeg","4.jpeg","5.jpeg","6.jpeg",
"7.jpeg","8.jpeg","9.jpeg","10.jpeg","11.jpeg","12.jpeg"
];

let indice=0;

function iniciarSlideshow(){

const img=document.getElementById("slideshow");

function cambiarImagen(){

if(indice < imagenes.length){

img.style.opacity=0;

setTimeout(()=>{
img.src=imagenes[indice];
img.style.opacity=1;
indice++;
},1200);

setTimeout(cambiarImagen,4000);

}else{

img.style.opacity=0;

setTimeout(()=>{
img.style.display="none";
typeWriter();
createHearts();
createPetals();
},1200);

}

}

cambiarImagen();
}

/* EFECTOS */

function createHearts(){
setInterval(()=>{
const heart=document.createElement("div");
heart.classList.add("heart");
heart.innerHTML="‚ù§Ô∏è";
heart.style.left=Math.random()*100+"vw";
heart.style.fontSize=(20+Math.random()*30)+"px";
heart.style.animationDuration=(5+Math.random()*3)+"s";
document.body.appendChild(heart);
setTimeout(()=>heart.remove(),8000);
},400);
}

function createPetals(){
setInterval(()=>{
const petal=document.createElement("div");
petal.classList.add("petal");
petal.innerHTML="üåπ";
petal.style.left=Math.random()*100+"vw";
petal.style.fontSize=(20+Math.random()*30)+"px";
petal.style.animationDuration=(6+Math.random()*4)+"s";
document.body.appendChild(petal);
setTimeout(()=>petal.remove(),9000);
},500);
}

/* MENSAJE */

const text=`Desde que llegaste a mi vida Amorshito todo cambi√≥ en mi vida... üíñ

Le agradezco a Dios por cruzar nuestros caminos,
por ponernos en el lugar exacto y en el momento indicado,

No quiero prometerte cosas enormes ni promesas falsas
solo quiero caminar contigo cada d√≠a,
sostener tu mano cuando en momentos dificiles,
abrazarte cuando mas lo necesites, aunque no tenga las palabras 
correctas para ese momento, pero prometo 
cuidarte y ayudarte en esos momentos y sobre todo 
hacerte re√≠r cuando todo este triste.

Amorshito‚Ä¶ 
Eres la paz que tanto he esperado.
Eres mi alegr√≠a en esos d√≠as grises.
Eres mi hogar, aunque este lejos en el traabajo.
Eres todo lo que he so√±ado,
y mucho m√°s de lo que imagin√© merecerlo.

Te amo profundamente con el coraz√≥n,
y sobre todo con el alma 
TKM X Siempre.‚ù§Ô∏è`;

let i=0;

function typeWriter(){
const msg=document.getElementById("message");

if(i<text.length){
msg.innerHTML+=text.charAt(i)==="\n"?"<br>":text.charAt(i);
i++;
setTimeout(typeWriter,45);
}

}

</script>

</body>
</html>


